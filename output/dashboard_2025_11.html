<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANARTE - Dashboard Financiero</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 4px solid;
        }

        .card.ingresos {
            border-color: #28a745;
        }

        .card.egresos {
            border-color: #dc3545;
        }

        .card.variacion {
            border-color: #28a745;
        }

        .card.clasificados {
            border-color: #007bff;
        }

        .card.saldo-inicial {
            border-color: #6f42c1;
        }

        .card.saldo-final {
            border-color: #17a2b8;
        }

        .card.debin {
            border-color: #28a745;
        }

        .card.prestadores {
            border-color: #e83e8c;
        }

        .card.mayor-egreso {
            border-color: #dc3545;
        }

        .card.mayor-ingreso {
            border-color: #20c997;
        }

        .card-title {
            font-size: 0.9em;
            color: #666;
            text-transform: uppercase;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .card-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card.ingresos .card-value {
            color: #28a745;
        }

        .card.egresos .card-value {
            color: #dc3545;
        }

        .card.variacion .card-value {
            color: #28a745;
        }

        .card.clasificados .card-value {
            color: #007bff;
        }

        .card.saldo-inicial .card-value {
            color: #6f42c1;
        }

        .card.saldo-final .card-value {
            color: #17a2b8;
        }

        .card.debin .card-value {
            color: #28a745;
        }

        .card.prestadores .card-value {
            color: #e83e8c;
        }

        .card.mayor-egreso .card-value {
            color: #dc3545;
        }

        .card.mayor-ingreso .card-value {
            color: #20c997;
        }

        .card-subtitle {
            font-size: 0.85em;
            color: #999;
        }

        .charts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .chart-full {
            grid-column: 1 / -1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        tr:hover {
            background-color: #f8f9fa;
        }

        .alert {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
            color: #856404;
        }

        .alert-danger {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .alert-info {
            background-color: #d1ecf1;
            border-color: #17a2b8;
            color: #0c5460;
        }

        .alert-success {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .summary-table {
            width: 100%;
            margin-top: 15px;
        }

        .summary-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: right;
        }

        .summary-table th:first-child {
            text-align: left;
        }

        .summary-table td {
            padding: 10px;
            text-align: right;
            border-bottom: 1px solid #e0e0e0;
        }

        .summary-table td:first-child {
            text-align: left;
            font-weight: 600;
        }

        .summary-table .neto-positivo {
            color: #28a745;
            font-weight: 600;
        }

        .summary-table .neto-negativo {
            color: #dc3545;
            font-weight: 600;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .charts {
                grid-template-columns: 1fr;
            }

            .cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>SANARTE - Dashboard Financiero</h1>
            <p>Generado el 17/11/2025 16:49</p>
        </div>

        <div class="content">
            <!-- Alertas Inteligentes -->
            <div class="alert alert-info"><strong>游늵 Buena clasificaci칩n:</strong> 485 de 506 clasificadas (95.8%)</div>
<div class="alert alert-info"><strong>游늵 Red prestacional:</strong> 7 prestadores activos este mes ($4,271,146 total)</div>
<div class="alert alert-info"><strong>游눱 Ingresos por DEBIN:</strong> 21 transacciones por $5,237,444 (promedio $249,402)</div>
<div class="alert alert-warning"><strong>丘멆잺 ADVERTENCIA:</strong> Diferencia en validaci칩n de saldos: $1,362,667.73. El saldo final no coincide con la f칩rmula esperada.</div>

            <!-- Cards de m칠tricas principales -->
            <div class="cards">
                <div class="card saldo-inicial">
                    <div class="card-title">Saldo Inicial</div>
                    <div class="card-value">$2,257.82</div>
                </div>

                <div class="card ingresos">
                    <div class="card-title">Total Ingresos</div>
                    <div class="card-value">$24,094,260.91</div>
                </div>

                <div class="card egresos">
                    <div class="card-title">Total Egresos</div>
                    <div class="card-value">$21,397,179.38</div>
                </div>

                <div class="card saldo-final">
                    <div class="card-title">Saldo Final</div>
                    <div class="card-value">$1,336,671.62</div>
                </div>

                <div class="card variacion">
                    <div class="card-title">Variaci칩n del Mes</div>
                    <div class="card-value">$2,697,081.53</div>
                </div>

                <div class="card clasificados">
                    <div class="card-title">Movimientos Clasificados</div>
                    <div class="card-value">95.8%</div>
                    <div class="card-subtitle">485 de 506</div>
                </div>

                <div class="card debin">
                    <div class="card-title">游눱 Ingresos DEBIN</div>
                    <div class="card-value">$5,237,443.81</div>
                    <div class="card-subtitle">21 transacciones</div>
                </div>

                <div class="card prestadores">
                    <div class="card-title">游논 Prestadores Activos</div>
                    <div class="card-value">7</div>
                    <div class="card-subtitle">Total pagado: $4,271,146</div>
                </div>

                <div class="card mayor-egreso">
                    <div class="card-title">游눯 Mayor Categor칤a Egreso</div>
                    <div class="card-value">$8,239,556</div>
                    <div class="card-subtitle">Egresos - Transferencias Varia (38.5%)</div>
                </div>

                <div class="card mayor-ingreso">
                    <div class="card-title">游늵 Mayor Categor칤a Ingreso</div>
                    <div class="card-value">$9,789,544</div>
                    <div class="card-subtitle">Ingresos - Transferencias (40.6%)</div>
                </div>
            </div>

            <!-- Gr치ficos -->
            <div class="charts">
                <!-- Gr치fico de Ingresos -->
                <div class="chart-container">
                    <div class="chart-title">Ingresos por Categor칤a</div>
                    <canvas id="chartIngresos"></canvas>
                </div>

                <!-- Gr치fico de Egresos -->
                <div class="chart-container">
                    <div class="chart-title">Top 10 Egresos por Categor칤a</div>
                    <canvas id="chartEgresos"></canvas>
                </div>

                <!-- Gr치fico de Flujo de Caja -->
                <div class="chart-container chart-full">
                    <div class="chart-title">Flujo de Caja Diario</div>
                    <canvas id="chartFlujo"></canvas>
                </div>
            </div>

            <!-- Tabla Resumen por Categor칤a Principal -->
            <div class="chart-container chart-full">
                <div class="chart-title">游늵 Resumen por Categor칤a Principal</div>
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th>Categor칤a</th>
                            <th>Transacciones</th>
                            <th>Ingresos</th>
                            <th>Egresos</th>
                            <th>Neto</th>
                        </tr>
                    </thead>
                    <tbody id="summaryTableBody">
                        <!-- Generado din치micamente por JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Tabla de Top Prestadores -->
            
        <div class="chart-container">
            <div class="chart-title">Top Prestadores</div>
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Monto Total</th>
                    </tr>
                </thead>
                <tbody>
        
                    <tr>
                        <td>1</td>
                        <td>TOSIN SONIA BEATRIZ</td>
                        <td>$600,000.00</td>
                    </tr>
            
                    <tr>
                        <td>2</td>
                        <td>TOSIN MARCO ANTONIO</td>
                        <td>$600,000.00</td>
                    </tr>
            
                    <tr>
                        <td>3</td>
                        <td>TOSIN GUADALUPE ANAHI</td>
                        <td>$600,000.00</td>
                    </tr>
            
                    <tr>
                        <td>4</td>
                        <td>DECADE S</td>
                        <td>$204,254.00</td>
                    </tr>
            
                    <tr>
                        <td>5</td>
                        <td>FARMACIAS LIDER S</td>
                        <td>$193,558.00</td>
                    </tr>
            
                    <tr>
                        <td>6</td>
                        <td>FRANDINO ROMINA LAURA</td>
                        <td>$153,227.00</td>
                    </tr>
            
                    <tr>
                        <td>7</td>
                        <td>BERNARDI ELIANA GABRIELA</td>
                        <td>$150,000.00</td>
                    </tr>
            
                </tbody>
            </table>
        </div>
        

            <!-- Tabla de Movimientos Sin Clasificar -->
            
        <div class="chart-container">
            <div class="chart-title">Movimientos Sin Clasificar (21)</div>
            <table>
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Concepto</th>
                        <th>D칠bito</th>
                        <th>Cr칠dito</th>
                    </tr>
                </thead>
                <tbody>
        
                    <tr>
                        <td>2025-10-31 00:00:00</td>
                        <td>Transferencia Recibida</td>
                        <td>$76,473.46</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-29 18:50:58</td>
                        <td>I.V.A. Percep. Resp. Inscripto</td>
                        <td>$181.74</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-29 00:00:00</td>
                        <td>Transferencia Recibida</td>
                        <td>$71,340.06</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-29 00:00:00</td>
                        <td>Comisi칩n Mantenimiento</td>
                        <td>$76,122.52</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-27 00:00:00</td>
                        <td>Comisi칩n Mantenimiento</td>
                        <td>$0.00</td>
                        <td>$83,382.43</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-24 14:13:04</td>
                        <td>CRED BCA ELECTR INTERBANC EXEN</td>
                        <td>$0.00</td>
                        <td>$54,000.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-24 00:00:00</td>
                        <td>Transf Inmed Cp</td>
                        <td>$54,000.00</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-23 00:00:00</td>
                        <td>Pago Electronico</td>
                        <td>$43,057.05</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-21 00:00:00</td>
                        <td>Pago Electronico</td>
                        <td>$65,421.35</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-19 00:00:00</td>
                        <td>Comisi칩n Mantenimiento</td>
                        <td>$87,201.15</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-17 00:00:00</td>
                        <td>Imp. Cre. Ley 25413</td>
                        <td>$80.40</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-17 00:00:00</td>
                        <td>Nave Pago Con Transferencia</td>
                        <td>$0.00</td>
                        <td>$13,400.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-17 00:00:00</td>
                        <td>Comisi칩n Mantenimiento</td>
                        <td>$0.00</td>
                        <td>$27,392.11</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-13 00:00:00</td>
                        <td>Transf. A Terceros</td>
                        <td>$300,000.00</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-13 00:00:00</td>
                        <td>Transf. A Terceros</td>
                        <td>$280,000.00</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-13 00:00:00</td>
                        <td>Imp. Deb. Ley 25413 Gral.</td>
                        <td>$3,480.00</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-03 00:00:00</td>
                        <td>Transferencia De Cuenta Propia</td>
                        <td>$0.00</td>
                        <td>$691,008.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-01 21:02:09</td>
                        <td>Comisi칩n Riesgo Contigente</td>
                        <td>$400.00</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-01 20:09:45</td>
                        <td>I.V.A. Percep. Resp. Inscripto</td>
                        <td>$1,320.00</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td>2025-10-01 00:00:00</td>
                        <td>Imp. Deb. Ley 25413 Gral.</td>
                        <td>$409.20</td>
                        <td>$0.00</td>
                    </tr>
            
                    <tr>
                        <td colspan="4" style="text-align: center; color: #999;">
                            ... y 1 m치s
                        </td>
                    </tr>
            
                </tbody>
            </table>
        </div>
        
        </div>

        <div class="footer">
            &copy; 2025 SANARTE - Sistema de Control Financiero | Generado autom치ticamente
        </div>
    </div>

    <script>
        // Datos para gr치ficos
        const datosIngresos = {"labels": ["Ingresos - Transferencias", "Ingresos - DEBIN Afiliados", "Ingresos - Cheques", "Ingresos - Obras Sociales", "Sin Clasificar - Requiere Revisi\u00f3n", "Gastos Operativos - Sueldos", "Ingresos - Devoluciones", "Ingresos - Descuentos", "Impuestos - Devoluciones", "Ingresos - Intereses", "Impuestos - IVA"], "values": [9789544.16, 5237443.8100000005, 4550715.43, 3441060.62, 869182.54, 83754.66, 66821.97, 55683.53, 54.12, 0.06, 0.01]};
        const datosEgresos = {"labels": ["Egresos - Transferencias Varias", "Gastos Operativos - Sueldos", "Prestadores - Profesionales", "Prestadores - Pagos", "Gastos Operativos - Vi\u00e1ticos", "Sin Clasificar - Requiere Revisi\u00f3n", "Ingresos - Tarjetas", "Impuestos - AFIP", "Egresos - DEBIN", "Servicios - Electricidad"], "values": [8239556.0, 2440198.57, 2307481.0, 1770107.5, 1300801.36, 1114486.93, 899196.71, 627430.19, 470000.0, 403456.4]};
        const datosFlujo = {"labels": ["2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15", "2025-10-16", "2025-10-17", "2025-10-18", "2025-10-19", "2025-10-20", "2025-10-21", "2025-10-22", "2025-10-23", "2025-10-24", "2025-10-25", "2025-10-26", "2025-10-27", "2025-10-28", "2025-10-29", "2025-10-30", "2025-10-31"], "ingresos": [4075000.07, 259799.0, 175000.0, 0.0, 0.0, 458483.0, 660392.27, 506948.5, 4518186.74, 516997.0, 0.0, 25319.0, 504291.07, 5601229.22, 258149.0, 160177.0, 463960.75, 0.0, 0.0, 1238012.51, 324651.76, 501042.0, 776329.45, 492205.0, 324680.0, 83754.66, 164000.0, 0.0, 780715.43, 276400.0, 79354.94], "egresos": [182187.55, 1075541.99, 2476363.51, 83754.79, 41366.72, 11265.470000000001, 29840.73, 657425.47, 3759217.81, 181624.03, 48216.32, 61068.770000000004, 17632.86, 3719583.33, 1719071.15, 631194.76, 292296.26, 112509.59, 76459.11, 688669.78, 1257029.42, 357301.85, 48204.89, 2175953.2800000003, 109053.33, 10319.789999999999, 129497.91, 90283.89, 10679.38, 228986.0, 92.71000000000001]};
        const resumenCategorias = [{"categoria": "Egresos", "transacciones": 14, "ingresos": 0.0, "egresos": 8709556.0, "neto": -8709556.0}, {"categoria": "Prestadores", "transacciones": 10, "ingresos": 0.0, "egresos": 4271146.5, "neto": -4271146.5}, {"categoria": "Gastos Operativos", "transacciones": 89, "ingresos": 83754.66, "egresos": 3943021.25, "neto": -3859266.59}, {"categoria": "Ingresos", "transacciones": 83, "ingresos": 23141269.58, "egresos": 1309573.68, "neto": 21831695.9}, {"categoria": "Impuestos", "transacciones": 265, "ingresos": 54.129999999999995, "egresos": 1125934.5, "neto": -1125880.37}, {"categoria": "Servicios", "transacciones": 10, "ingresos": 0.0, "egresos": 779684.6599999999, "neto": -779684.6599999999}, {"categoria": "Comisiones Bancarias", "transacciones": 14, "ingresos": 0.0, "egresos": 143775.86000000002, "neto": -143775.86000000002}];

        // Llenar tabla de resumen por categor칤a principal
        const summaryTableBody = document.getElementById('summaryTableBody');
        resumenCategorias.forEach(cat => {
            const row = document.createElement('tr');
            const netoClass = cat.neto >= 0 ? 'neto-positivo' : 'neto-negativo';
            row.innerHTML = `
                <td>${cat.categoria}</td>
                <td>${cat.transacciones.toLocaleString('es-AR')}</td>
                <td>$${cat.ingresos.toLocaleString('es-AR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</td>
                <td>$${cat.egresos.toLocaleString('es-AR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</td>
                <td class="${netoClass}">$${cat.neto.toLocaleString('es-AR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</td>
            `;
            summaryTableBody.appendChild(row);
        });

        // Gr치fico de Ingresos (Torta)
        new Chart(document.getElementById('chartIngresos'), {
            type: 'pie',
            data: {
                labels: datosIngresos.labels,
                datasets: [{
                    data: datosIngresos.values,
                    backgroundColor: [
                        '#28a745',
                        '#20c997',
                        '#17a2b8',
                        '#6610f2',
                        '#e83e8c'
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += '$' + context.parsed.toLocaleString('es-AR', {minimumFractionDigits: 2});
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Gr치fico de Egresos (Torta - Top 10)
        new Chart(document.getElementById('chartEgresos'), {
            type: 'pie',
            data: {
                labels: datosEgresos.labels,
                datasets: [{
                    data: datosEgresos.values,
                    backgroundColor: [
                        '#dc3545', // Rojo
                        '#fd7e14', // Naranja
                        '#ff6b6b', // Rojo claro
                        '#e83e8c', // Rosa
                        '#9b59b6', // P칰rpura
                        '#ffc107', // Amarillo
                        '#f39c12', // Naranja oscuro
                        '#17a2b8', // Azul
                        '#3498db', // Azul claro
                        '#6c757d'  // Gris
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += '$' + context.parsed.toLocaleString('es-AR', {minimumFractionDigits: 2});
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Gr치fico de Flujo de Caja (L칤neas)
        new Chart(document.getElementById('chartFlujo'), {
            type: 'line',
            data: {
                labels: datosFlujo.labels,
                datasets: [
                    {
                        label: 'Ingresos',
                        data: datosFlujo.ingresos,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Egresos',
                        data: datosFlujo.egresos,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.1)',
                        tension: 0.4,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += '$' + context.parsed.y.toLocaleString('es-AR', {minimumFractionDigits: 2});
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString('es-AR');
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>